"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[185],{9622:function(S,_,n){n.r(_);var E=n(5574),l=n.n(E),a=n(67294),h=n(79600),p=n(71577),B=n(5914),e=n(85893),v=function(){var f=(0,a.useState)([]),o=l()(f,2),D=o[0],O=o[1],j=(0,a.useState)(null),i=l()(j,2),s=i[0],m=i[1],A=(0,a.useState)(!1),d=l()(A,2),C=d[0],c=d[1];(0,a.useEffect)(function(){fetch("/api/class").then(function(t){return t.json()}).then(function(t){var r=t.map(function(u){return{value:u.lesson_id,label:u.course_name,teachclass_std_count:u.teachclass_std_count,teachers:u.teachers.join(", ")}});O(r)})},[]);var F=function(r,u){var b=u[u.length-1];m(b)},M=function(){c(!0)},P=function(){window.location.href="/rollcall?lesson_id="+(s==null?void 0:s.value)},x=function(){c(!1)};return(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,e.jsx)(h.Z,{options:D,onChange:F,placeholder:"\u8BF7\u9009\u62E9\u4E00\u4E2A\u8BFE\u7A0B"}),s&&(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:["\u8BFE\u7A0B\u540D\u79F0: ",s.label]}),(0,e.jsxs)("p",{children:["\u8BFE\u7A0B\u5E94\u5230\u4EBA\u6570: ",s.teachclass_std_count]}),(0,e.jsxs)("p",{children:["\u4EFB\u8BFE\u8001\u5E08: ",s.teachers]})]}),(0,e.jsx)(p.ZP,{type:"primary",onClick:M,disabled:!s,children:"\u63D0\u4EA4"}),(0,e.jsx)(B.Z,{title:"\u8BF7\u6838\u5BF9\u70B9\u540D\u4FE1\u606F",visible:C,onOk:P,onCancel:x,children:s&&(0,e.jsxs)("div",{children:[(0,e.jsxs)("p",{children:["\u8BFE\u7A0B\u540D\u79F0: ",s.label]}),(0,e.jsxs)("p",{children:["\u8BFE\u7A0B\u5E94\u5230\u4EBA\u6570: ",s.teachclass_std_count]}),(0,e.jsxs)("p",{children:["\u4EFB\u8BFE\u8001\u5E08: ",s.teachers]})]})})]})};_.default=v}}]);
